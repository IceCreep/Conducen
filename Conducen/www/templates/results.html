<ion-view view-title="Results" ng-controller="ResultsCtrl as resultsCtrl" nav-direction="forward">
  <ion-content>
  	<div class="secondary-page">
  		<secondary-menu></secondary-menu>
	  	<div class="header">
	  		<img ng-src="img/secondary/logo-{{state}}.png"/>
	  		<h1 ng-if="state=='conduit'">{{"conduit_fill_label" | translate}}<br/><span>{{"calculator_label" | translate}}</span></h1>
        <h1 ng-if="state=='voltage-drop'">{{"voltage_drop_label" | translate}}<br/><span>{{"calculator_label" | translate}}</span></h1>
        <h1 ng-if="state=='ampacity'">{{"ampacity_label" | translate}}<br/><span>{{"calculator_label" | translate}}</span></h1>
	  		<div class="clearfix"></div>
	  	</div>
  		<div class="curves top">
  			<img ng-src="img/common/curves-simple.png" />
  		</div>
      <div class="results conduit-results" ng-if="state=='conduit'">
        <div class="input-data">
          <h3>{{"input_values_label" | translate}}:</h3>
          <p class="top-label">{{"conduit_type_label" | translate}}: {{conduitData.conductorType}}</p>
          <div class="data-container">
            <div class="item" ng-repeat="conductor in conduitData.conductors">
              <h6 class="item-label">{{"wires_label" | translate}}</h6>
              <h6 class="item-label">{{"size_label" | translate}}</h6>
              <h6 class="item-label">{{"insulation_label" | translate}}</h6>
              <p class="item-data">{{conductor.wires | translate}}</p>
              <p class="item-data">{{conductor.size | translate}}</p>
              <p class="item-data">{{conductor.insulation | translate}}</p>
              <div class="clearfix"></div>
            </div>
            <p class="top-label total">{{"total_area_label" | translate}}: {{conduitData.totalArea | number : 4}} {{"area_units" | translate}}<sup>2</sup></p>
          </div>
        </div>
        <div class="results-data">
          <h3 class="border-bottom">{{"output_values_label" | translate}}:</h3>
          <h3>{{"conduit_fill_results" | translate}}: <span>{{"conduit_fill_disclaimer" | translate}}</span></h3>
          <p class="error" ng-hide="conduitResult.found">{{"conduit_fill_error_label" | translate}}</p>
          <div class="item">
            <p class="item-data no-border">{{conduitResult.trade}}" {{conduitData.conductorType}}</p>
          </div>
          <div class="item">
            <h6 class="item-label">{{"metric_designator_label" | translate}}</h6>
            <p class="item-data">{{conduitResult.designator}}</p>
          </div>
        </div>
        <div class="results-data">
          <h3>{{"nipple_results" | translate}}: <span>{{"nipple_results_disclaimer" | translate}}</span></h3>          
          <p class="error" ng-hide="nippleResult.found">{{"conduit_fill_error_label" | translate}}</p>
          <div class="item">
            <p class="item-data no-border">{{nippleResult.trade}}" {{conduitData.conductorType}}</p>
          </div>
          <div class="item">
            <h6 class="item-label">{{"metric_designator_label" | translate}}</h6>
            <p class="item-data">{{nippleResult.designator}}</p>
          </div>
        </div>
        <button class="green-bg full-width" ng-click="goBack()">
          <span class="icon back"><img ng-src="img/common/icon_back_btn.png"/></span>
          <span class="label">{{"back_label" | translate}}</span>
        </button>
      </div>
      <div class="results voltage-drop-results" ng-if="state=='voltage-drop'">
        <div class="input-data">
          <h3>{{"input_values_label" | translate}}:</h3>
          <p class="top-label">{{"calculation_type_label" | translate}}: {{voltageDropInputData.calculationType | limitTo: 22}}</p>
          <div class="data-container">
            <div class="item data-row">
              <h6 class="item-label no-margin">{{"conductor_material_short_label" | translate}}</h6>
              <h6 class="item-label no-margin">{{"conduit_material_short_label" | translate}}</h6>
              <p class="item-data">{{voltageDropInputData.conductorMaterial | translate}}</p>
              <p class="item-data">{{voltageDropInputData.conduitMaterial | translate}}</p>

              <h6 class="item-label">{{"phase_label" | translate}}</h6>
              <h6 class="item-label">{{"voltage_label" | translate}}</h6>
              <p class="item-data">{{voltageDropInputData.phase | translate}}</p>
              <p class="item-data">{{voltageDropInputData.voltage | translate}}</p>

              <h6 class="item-label">{{"power_factor_short_label" | translate}}</h6>
              <h6 class="item-label">{{"amperage_small_label" | translate}}</h6>
              <p class="item-data">{{voltageDropInputData.powerFactor | translate}}</p>
              <p class="item-data">{{voltageDropInputData.ampacity | translate}}</p>

              <h6 class="item-label">{{"voltage_drop_small_label" | translate}}</h6>
              <h6 class="item-label" ng-if="voltageDropInputData.calculationTypeIndex==0">{{"circuit_distance_short_label" | translate}}</h6>
              <h6 class="item-label" ng-if="voltageDropInputData.calculationTypeIndex==1">{{"conductor_size_short_label" | translate}}</h6>
              <p class="item-data">{{voltageDropInputData.voltageDrop | translate}}</p>
              <!-- Here the conductorLength or wireSize is passed depending on the calculation type -->
              <p class="item-data" ng-if="voltageDropInputData.calculationTypeIndex==0">{{voltageDropInputData.conductorLength}}</p>
              <p class="item-data" ng-if="voltageDropInputData.calculationTypeIndex==1">{{voltageDropInputData.conductorLength}}</p>
              <div class="clearfix"></div>
            </div>
          </div>
        </div>
        <div class="results-data">
          <h3 ng-if="voltageDropInputData.calculationTypeIndex==0">{{"conductor_size_results" | translate}}:</h3>
          <h3 ng-if="voltageDropInputData.calculationTypeIndex==1">{{"conductor_length_results" | translate}}:</h3>
          <p class="error" ng-show="voltageDropResult.error">{{"voltage_drop_error_6_label" | translate}}</p>
          <div class="item" ng-if="voltageDropInputData.calculationTypeIndex==0">
            <h6 class="item-label">{{"size_label" | translate}}</h6>
            <p class="item-data no-border no-uppercase">{{voltageDropResult.size}} (75Â°C amps. Cu/Al)</p>
          </div>
          <div class="item" ng-if="voltageDropInputData.calculationTypeIndex==1">
            <h6 class="item-label">{{"conductor_length_label" | translate}}</h6>
            <p class="item-data no-border" ng-if="isLanguage('es')">{{voltageDropResult.conductorLength | number : 4}} {{"length_units" | translate}}</p>
            <p class="item-data no-border" ng-if="isLanguage('en')">{{voltageDropResult.conductorLength | number : 4}} {{"length_units" | translate}}</p>
          </div>
          <div class="item">
            <h6 class="item-label">{{"efficient_z_label" | translate}}</h6>
            <p class="item-data no-border no-uppercase" ng-if="isLanguage('es')">{{voltageDropResult.efficientZ | number : 4}} {{"ohm_distance_unit" | translate}}</p>
            <p class="item-data no-border no-uppercase" ng-if="isLanguage('en')">{{voltageDropResult.efficientZ*0.3048 | number : 4}} {{"ohm_distance_unit" | translate}}</p>
          </div>
        </div>
      </div>
      <div class="results ampacity-results" ng-if="state=='ampacity'">
        <div class="input-data">
          <h3>{{"input_values_label" | translate}}:</h3>
          <!-- <p class="top-label">{{"calculation_type_label" | translate}}: {{voltageDropInputData.calculationType | limitTo: 22}}</p> -->
          <div class="data-container">
            <div class="item data-row">
              <h6 class="item-label no-margin">{{"wire_material_short_label" | translate}}</h6>
              <h6 class="item-label no-margin">{{"conductor_type_short_label" | translate}}</h6>
              <p class="item-data">{{ampacityInputData.wireMaterial | translate}}</p>
              <p class="item-data">{{ampacityInputData.conductorType | translate}}</p>

              <h6 class="item-label">{{"continuos_current_short_label" | translate}}</h6>
              <h6 class="item-label">{{"non_continuos_current_short_label" | translate}}</h6>
              <p class="item-data">{{ampacityInputData.continousCurrent}}</p>
              <p class="item-data">{{ampacityInputData.nonContinousCurrent}}</p>

              <h6 class="item-label">{{"terminal_temp_short_label" | translate}}</h6>
              <h6 class="item-label">{{"ambient_temperature_short_label" | translate}}</h6>
              <p class="item-data">{{ampacityInputData.terminalTemp}}</p>
              <p class="item-data">{{ampacityInputData.ambientTemperature}}</p>

              <h6 class="item-label lone-item">{{"current_conductors_short_label" | translate}}</h6>
              <h6 class="item-label" style="opacity:0">{{"current_conductors_short_label" | translate}}</h6>
              <p class="item-data lone-item">{{ampacityInputData.conductorsRange}}</p>
              <p class="item-data" style="opacity:0">{{ampacityInputData.conductorsRange}}</p>
              <div class="clearfix"></div>
            </div>
          </div>
        </div>
        <div class="results-data">
          <h3>{{"ampacity_results" | translate}}:</h3>
          <!-- <p class="error" ng-show="voltageDropResult.error">{{"voltage_drop_error_6_label" | translate}}</p> -->
          <div class="item">
            <h6 class="item-label">{{"cb_label" | translate}}</h6>
            <p class="item-data no-border no-uppercase">{{ampacityResult.cb}} A</p>
          </div>
          <div class="item">
            <h6 class="item-label">{{ampacityResult.c_label}}</h6>
            <p class="item-data no-border no-uppercase">{{ampacityResult.c}}</p>
          </div>
          <div class="item">
            <h6 class="item-label">{{ampacityResult.c_num_label}}</h6>
            <p class="item-data no-border no-uppercase">{{ampacityResult.c_num}}</p>
          </div>
        </div>
      </div>
  		<div class="bottom arcs">
	  		<img ng-src="img/secondary/footer.png" />
	  	</div>
  	</div>
  </ion-content>
</ion-view>
